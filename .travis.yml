# Travis CI config for MazeAmaze

language: c
sudo: required
dist: bionic

services:
  - docker

compiler:
  - gcc

before_script:
  - docker build -t mazeamaze -f tests/ci/Dockerfile .
  - if [ "$CC" = "clang" ]; then export CVENDOR="clang" CXX="clang" CC="clang"; fi
  - if [ "$CC" = "gcc" ]; then export CVENDOR="gcc" CXX="g++" CC="gcc"; fi

script:
  - docker run -t -e COMPILER_VENDOR=$CVENDOR -e CC=$CC -e CXX=$CXX -v `pwd`:/build mazeamaze
    ./tests/ci/build_and_test.sh
